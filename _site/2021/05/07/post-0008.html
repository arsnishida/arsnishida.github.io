<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Single Cell TBR1 Preliminary Evaluations | ARSN Lab Notebook</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Single Cell TBR1 Preliminary Evaluations" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Directory: /home/groups/oroaklab/nishida/sc_tmp1" />
<meta property="og:description" content="Directory: /home/groups/oroaklab/nishida/sc_tmp1" />
<link rel="canonical" href="http://localhost:4000/2021/05/07/post-0008.html" />
<meta property="og:url" content="http://localhost:4000/2021/05/07/post-0008.html" />
<meta property="og:site_name" content="ARSN Lab Notebook" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-05-07T00:00:00-07:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2021/05/07/post-0008.html"},"url":"http://localhost:4000/2021/05/07/post-0008.html","description":"Directory: /home/groups/oroaklab/nishida/sc_tmp1","dateModified":"2021-05-07T00:00:00-07:00","datePublished":"2021-05-07T00:00:00-07:00","headline":"Single Cell TBR1 Preliminary Evaluations","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="ARSN Lab Notebook" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">ARSN Lab Notebook</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Single Cell TBR1 Preliminary Evaluations</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-05-07T00:00:00-07:00" itemprop="datePublished">May 7, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Directory: <code class="language-plaintext highlighter-rouge">/home/groups/oroaklab/nishida/sc_tmp1</code></p>

<p>Ryan made a first pass through this data written up on <a href="https://mulqueenr.github.io/tbr1/">his blog</a>. I used his annotations and kept the old TSS enrichments (ArchR calculates its own internally). He made these after filtering so not all of the cells in the current ArchR project will have entries but these cells are confidently going to be filtered out. I went through ArchR up to about part 6 in the ArchR full manual. I made a broad first pass to get everything recorded, added Ryan’s existing stuff, plotted the metrics, filtered, and then did the dimensionality reduction and clustering. Then after the lab meeting I went and played around the filtering and iterative LSI options.</p>

<p>General metrics show low TSS enrichment and higher fragment sizes. <a href="https://ohsu.app.box.com/file/808812070910">figure-01</a></p>

<p>“The bump around 200 is tagmentation on either side of a nucleosome (they are about 185bp) below that is subnucleosomal, which can be a sign of over-tagmentation or poor chromatin structure. The linker region between nucleosome is 11-80ish no but usually on the much smaller size so you don’t expect two tagmentation events between nucleosomes. I think in this case it is reflecting nucleosomes falling apart/off DNA.”
<br />-Ryan</p>

<p>Various UMAPs with different methods, variables, and cutoffs. All of the methods reveal the characteristics of a blob. <a href="https://ohsu.app.box.com/file/808811822056">figure-02</a></p>

<p>- Directory setup and bigwig creation, <code class="language-plaintext highlighter-rouge">run.txt</code>.
<br />- Setting up the Arrow file, <code class="language-plaintext highlighter-rouge">run_archr_1_setup.Rscript</code>.
<br />- Tiling matrix workaround and the main steps without filtering, <code class="language-plaintext highlighter-rouge">run_archr_2_process.Rscript</code>.
<br />- Adding annotations, plotting distributions, filtering, and dimred/clustering, <code class="language-plaintext highlighter-rouge">run_archr_3_filter.Rscript</code>.
<br />- Similar to preliminary pass but with harder filtering, <code class="language-plaintext highlighter-rouge">run_archr_4_harderfilter.Rscript</code>.
<br />- Harder filtering and alternative LSI calling, <code class="language-plaintext highlighter-rouge">run_archr_5_LSIfeatures_harderfilter.Rscript</code>.
<br />- All of the above but with also with filtering by fragment size, <code class="language-plaintext highlighter-rouge">run_archr_6_fragFilter_LSIfeatures_harderfilter.Rscript</code>.</p>

<p>With module R/4.0.4 this little bit will let you load up the current ArchR project for yourself:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># library, resource ArchR
library(presto)
library(ArchR)

# set env
addArchRGenome("mm10")
set.seed(25)

# reload the previous project
proj &lt;- loadArchRProject(path = "/home/groups/oroaklab/nishida/sc_tmp1/ArchROutput/")
</code></pre></div></div>


  </div><a class="u-url" href="/2021/05/07/post-0008.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">ARSN Lab Notebook</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">ARSN Lab Notebook</li><li><a class="u-email" href="mailto:nishidaa@ohsu.edu">nishidaa@ohsu.edu</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/arsnishida"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">arsnishida</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>ARSN Lab notebook.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
